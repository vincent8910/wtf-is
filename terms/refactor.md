# Refactor（重構）— 重新整理衣櫃

> **白話說：** 重構就像整理衣櫃——衣服還是那些衣服，但整理過後更好找、更好搭配。功能完全不變，只是裡面變整齊了。

---

## 它到底是什麼？

```
整理前的衣櫃：
├── 冬天大衣和短褲混在一起
├── 襪子塞在外套口袋裡
├── 找一件 T-shirt 要翻 20 分鐘
└── 每次出門都在崩潰

整理後的衣櫃：
├── 上層：當季衣服，按場合分類
├── 中層：褲子和裙子
├── 下層：過季收納
└── 找任何衣服 30 秒搞定
```

**衣服有變多或變少嗎？沒有。** 只是「放的方式」不同了。

重構也一樣——使用者打開 App，跟昨天一模一樣。但工程師打開程式碼，裡面變得井然有序，之後改東西快很多。

## 為什麼要知道這個詞？

你一定會遇到這個情境：

> 工程師：「這段 code 需要 refactor。」
> PM：「refactor 完使用者會感覺到不同嗎？」
> 工程師：「不會。」
> PM：「那為什麼要花時間做？」

答案是：

| 不重構的後果 | 衣櫃比喻 |
|-------------|---------|
| 加一個小功能要改十幾個地方 | 買新衣服找不到地方放 |
| 改 A 功能結果 B 功能壞了 | 抽一件褲子，五件衣服全倒下來 |
| 新人看不懂程式碼 | 新室友打開衣櫃一臉問號 |

重構跟 [技術債](technical-debt.md) 的關係：技術債是欠的錢，重構就是「還錢」的方式。

## 日常場景

- **「這段 code 要 refactor 一下」**
  → 程式碼太亂了，要重新整理，功能不會變
- **「先 refactor 再加新功能比較安全」**
  → 先整理好衣櫃再放新衣服，不然越來越亂

> 💡 **PM 能做的事：** 幫工程師跟老闆溝通「為什麼需要重構時間」。不要說「要整理程式碼」，要說「為了讓下個功能準時上線，需要先整理基礎」——用結果說服。

---

**[← 回到術語總覽](../README.md)** · **[了解技術債 →](technical-debt.md)** · **[了解 Legacy Code →](legacy-code.md)**
